(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47aa1cfd"],{"0389":function(e,t,a){"use strict";var n=a("5530"),c=a("7a23"),r=function(e){return Object(c["x"])("data-v-263088b5"),e=e(),Object(c["v"])(),e},u=["value","disabled"],i=r((function(){return Object(c["h"])("option",{disabled:"",value:""},"-- 請選擇城市 --",-1)})),s=["value"];function o(e,t,a,r,o,l){var b=Object(c["C"])("InputGroup");return Object(c["u"])(),Object(c["e"])(b,{label:"城市搜尋"},{default:Object(c["I"])((function(){return[Object(c["h"])("select",Object(c["o"])({class:"field",value:a.modelValue},Object(n["a"])(Object(n["a"])({},e.$attrs),{},{onChange:function(t){e.$emit("update:modelValue",t.target.value),a.searchHandler()}}),{disabled:!l.initMap}),[i,(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(a.cities,(function(e){return Object(c["u"])(),Object(c["g"])("option",{key:e.City,value:e.City},Object(c["E"])(e.CityName),9,s)})),128))],16,u)]})),_:1})}a("d81d");var l=a("76ff"),b={components:{InputGroup:l["a"]},props:{modelValue:{type:String,default:""},searchHandler:{type:Function,required:!0},cities:{type:Array,required:!0}},computed:{initMap:function(){return this.$store.state.map.OSM}}},f=(a("4e19"),a("d959")),d=a.n(f);const p=d()(b,[["render",o],["__scopeId","data-v-263088b5"]]);var O=p;t["a"]=O},"0d7d":function(e,t,a){},"3b7f":function(e,t,a){"use strict";a("aaef")},"3c48":function(e,t,a){},"408a":function(e,t,a){var n=a("e330");e.exports=n(1..valueOf)},"4e19":function(e,t,a){"use strict";a("0d7d")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("e330"),c=a("1d80"),r=a("577e"),u=a("5899"),i=n("".replace),s="["+u+"]",o=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),b=function(e){return function(t){var a=r(c(t));return 1&e&&(a=i(a,o,"")),2&e&&(a=i(a,l,"")),a}};e.exports={start:b(1),end:b(2),trim:b(3)}},"630b":function(e,t,a){},"73af":function(e,t,a){"use strict";a.r(t);var n=a("1da1"),c=(a("96cf"),a("7db0"),a("d3b7"),a("4de4"),a("7a23")),r=a("5502"),u=a("4625"),i=a("f5d03"),s=a("0389"),o=a("fcd9"),l={class:"bikeSearchList"},b=["onClick"],f={class:"top"},d={class:"total"},p={class:"type"},O={class:"capacity"},j=Object(c["i"])(" 可容納車位"),v=Object(c["i"])("輛 "),h={class:"name"},m={class:"address"},y={class:"available"},k={class:"rent"},g=Object(c["i"])(" 可出借"),S=Object(c["i"])("輛 "),I={class:"return"},_=Object(c["i"])(" 可歸還"),w=Object(c["i"])("輛 ");function E(e,t,a,n,r,u){return Object(c["u"])(),Object(c["g"])("ul",l,[(Object(c["u"])(!0),Object(c["g"])(c["a"],null,Object(c["A"])(a.bikeResult,(function(e){return Object(c["u"])(),Object(c["g"])("li",{class:Object(c["q"])({active:n.itemActive===e.StationUID}),key:e.stationUID,onClick:function(t){return n.clickHandler(e)}},[Object(c["h"])("div",f,[Object(c["h"])("span",{class:Object(c["q"])(["status",n.stationStatus(e.detail.ServiceStatus).class])},Object(c["E"])(n.stationStatus(e.detail.ServiceStatus).text),3),Object(c["h"])("div",d,[Object(c["h"])("span",p,Object(c["E"])(n.bikeType(e.ServiceType)),1),Object(c["h"])("p",O,[j,Object(c["h"])("span",null,Object(c["E"])(e.BikesCapacity),1),v])])]),Object(c["h"])("p",h,Object(c["E"])(n.formateStationName(e.StationName.Zh_tw)),1),Object(c["h"])("p",m,Object(c["E"])(e.StationAddress.Zh_tw),1),Object(c["h"])("div",y,[Object(c["h"])("div",k,[g,Object(c["h"])("span",null,Object(c["E"])(e.detail.AvailableRentBikes||0),1),S]),Object(c["h"])("div",I,[_,Object(c["h"])("span",null,Object(c["E"])(e.detail.AvailableReturnBikes||0),1),w])])],10,b)})),128))])}a("d81d"),a("ac1f"),a("1276");var N={props:{bikeResult:{type:Array}},setup:function(e){var t=Object(r["c"])(),a=Object(c["z"])(!1);function n(e){var n=e.StationPosition.PositionLat,c=e.StationPosition.PositionLon;a.value=e.StationUID,t.state.map.OSM.setView([n,c],18),t.state.map.markersCluster.eachLayer((function(e){var t=e._latlng;t.lat===n&&t.lng===c&&e.openPopup()})),t.commit("SET_MAP_ACTIVE",!0)}function u(e){var t=e.split("_");return t.length>1?t[t.length-1]:t[0]}function i(e){switch(e){case 0:return{class:"error",text:"停止營運"};case 1:return{class:"success",text:"正常營運"};case 2:return{class:"warn",text:"暫停營運"}}}function s(e){switch(e){case 1:return"YouBike1.0";case 2:return"YouBike2.0"}}return Object(c["G"])((function(){return e.bikeResult}),(function(){window.scrollTo({top:0})})),{itemActive:a,formateStationName:u,stationStatus:i,bikeType:s,clickHandler:n}}},A=(a("bec4"),a("d959")),x=a.n(A);const C=x()(N,[["render",E],["__scopeId","data-v-4a4d0f07"]]);var V=C,R=V,F={class:"bike"},T={class:"page-search-content"},M={key:0,class:"page-search-remind"},B={setup:function(e){var t=Object(r["c"])(),a=t.state,l=t.dispatch,b=Object(c["z"])(""),f=Object(c["z"])(""),d=Object(c["z"])([]),p=Object(c["c"])((function(){return a.bike.bikeCities})),O=Object(c["c"])((function(){return a.bike.bikeStations})),j=Object(c["c"])((function(){return p.value.find((function(e){return e.City===b.value})).CityName}));function v(){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(b.value){e.next=2;break}return e.abrupt("return");case 2:return l("showLoader",!0),f.value="",e.next=6,l("bike/fetchBikeStationData",b.value);case 6:return e.next=8,l("map/setBikeMarkers",O.value);case 8:return e.next=10,l("map/setLocationOfCityOnMap",j.value);case 10:d.value=O.value,l("showLoader",!1);case 12:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function m(){if(""===f.value)return d.value=O.value;d.value=O.value.filter((function(e){return-1!==e.StationName.Zh_tw.indexOf(f.value)}))}return function(e,t){return Object(c["u"])(),Object(c["e"])(Object(c["F"])(u["a"]),null,{default:Object(c["I"])((function(){return[Object(c["h"])("div",F,[Object(c["j"])(Object(c["F"])(i["a"]),{title:"YouBike即時車位"},{default:Object(c["I"])((function(){return[Object(c["j"])(Object(c["F"])(s["a"]),{modelValue:b.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return b.value=e}),cities:Object(c["F"])(p),searchHandler:v},null,8,["modelValue","cities"]),Object(c["j"])(Object(c["F"])(o["a"]),{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=function(e){return f.value=e}),disabled:!b.value,result:d.value,keywordSearch:m},null,8,["modelValue","disabled","result"])]})),_:1}),Object(c["h"])("div",T,[0===d.value.length?(Object(c["u"])(),Object(c["g"])("div",M," 請選擇城市 ")):(Object(c["u"])(),Object(c["e"])(Object(c["F"])(R),{key:1,bikeResult:d.value},null,8,["bikeResult"]))])])]})),_:1})}}};a("3b7f");const L=x()(B,[["__scopeId","data-v-a620d3b4"]]);var G=L;t["default"]=G},"76ff":function(e,t,a){"use strict";var n=a("7a23"),c={class:"input-group"},r={key:0,class:"input-label"};function u(e,t,a,u,i,s){return Object(n["u"])(),Object(n["g"])("div",c,[a.label?(Object(n["u"])(),Object(n["g"])("label",r,Object(n["E"])(a.label),1)):Object(n["f"])("",!0),Object(n["B"])(e.$slots,"default",{},void 0,!0)])}var i={props:{label:{type:String}}},s=(a("8d9f"),a("d959")),o=a.n(s);const l=o()(i,[["render",u],["__scopeId","data-v-927c45b6"]]);var b=l;t["a"]=b},"8d9f":function(e,t,a){"use strict";a("3c48")},"9c9f":function(e,t,a){"use strict";a("b72b")},a320:function(e,t,a){"use strict";a("f1ba")},a9e3:function(e,t,a){"use strict";var n=a("83ab"),c=a("da84"),r=a("e330"),u=a("94ca"),i=a("6eeb"),s=a("1a2d"),o=a("7156"),l=a("3a9b"),b=a("d9b5"),f=a("c04e"),d=a("d039"),p=a("241c").f,O=a("06cf").f,j=a("9bf2").f,v=a("408a"),h=a("58a8").trim,m="Number",y=c[m],k=y.prototype,g=c.TypeError,S=r("".slice),I=r("".charCodeAt),_=function(e){var t=f(e,"number");return"bigint"==typeof t?t:w(t)},w=function(e){var t,a,n,c,r,u,i,s,o=f(e,"number");if(b(o))throw g("Cannot convert a Symbol value to a number");if("string"==typeof o&&o.length>2)if(o=h(o),t=I(o,0),43===t||45===t){if(a=I(o,2),88===a||120===a)return NaN}else if(48===t){switch(I(o,1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+o}for(r=S(o,2),u=r.length,i=0;i<u;i++)if(s=I(r,i),s<48||s>c)return NaN;return parseInt(r,n)}return+o};if(u(m,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var E,N=function(e){var t=arguments.length<1?0:y(_(e)),a=this;return l(k,a)&&d((function(){v(a)}))?o(Object(t),a,N):t},A=n?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),x=0;A.length>x;x++)s(y,E=A[x])&&!s(N,E)&&j(N,E,O(y,E));N.prototype=k,k.constructor=N,i(c,m,N)}},aaef:function(e,t,a){},b72b:function(e,t,a){},bec4:function(e,t,a){"use strict";a("630b")},f1ba:function(e,t,a){},f5d03:function(e,t,a){"use strict";var n=a("7a23"),c={class:"page-top"},r={class:"pageTitle"};function u(e,t,a,u,i,s){return Object(n["u"])(),Object(n["g"])("div",c,[Object(n["h"])("h1",r,Object(n["E"])(a.title),1),Object(n["h"])("form",{class:"search-form",onSubmit:t[0]||(t[0]=Object(n["J"])((function(){}),["prevent"]))},[Object(n["B"])(e.$slots,"default",{},void 0,!0)],32)])}var i={props:{title:{type:String,required:!0}}},s=(a("a320"),a("d959")),o=a.n(s);const l=o()(i,[["render",u],["__scopeId","data-v-4297d960"]]);var b=l;t["a"]=b},fcd9:function(e,t,a){"use strict";var n=a("7a23"),c={class:"keyword-wrap"},r=["value","placeholder"];function u(e,t,a,u,i,s){var o=Object(n["C"])("InputGroup");return Object(n["u"])(),Object(n["e"])(o,{class:"cityKeywordInput",label:"關鍵字搜尋"},{default:Object(n["I"])((function(){return[Object(n["h"])("div",c,[Object(n["h"])("input",Object(n["o"])({class:"field",type:"text"},e.$attrs,{value:a.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.value)}),placeholder:s.hasResult?"請輸入關鍵字":"請先選擇城市"}),null,16,r),Object(n["h"])("button",{class:"search",onClick:t[1]||(t[1]=function(){return a.keywordSearch&&a.keywordSearch.apply(a,arguments)})},"搜尋")])]})),_:1})}a("a9e3");var i=a("76ff"),s={components:{InputGroup:i["a"]},props:{modelValue:{type:[String,Number],default:""},result:{type:Array},keywordSearch:{type:Function}},computed:{hasResult:function(){return this.result.length>0}}},o=(a("9c9f"),a("d959")),l=a.n(o);const b=l()(s,[["render",u],["__scopeId","data-v-52eb5e30"]]);var f=b;t["a"]=f}}]);
//# sourceMappingURL=chunk-47aa1cfd.f8d68e3a.js.map